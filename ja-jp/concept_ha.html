<!DOCTYPE html><html lang="ja"><head><title> AWSの高可用性ペア| NetApp Cloud Docs </title><meta charset="utf-8"><meta property="og:title" content="High-availability pairs in AWS | NetApp Cloud Docs" /><meta property="og:type" content="website" /><meta property="og:url" content="https://docs.netapp.com/occm/ja-jp/concept_ha.html" /><meta property="og:description" content="A Cloud Volumes ONTAP high availability (HA) configuration provides nondisruptive operations and fault tolerance. In AWS, data is synchronously mirrored betw..." /><meta property="og:image" content="https://docs.netapp.com/occm/ja-jp/images/logo-tophat-social.png" /><meta property="og:image:alt" content="NetApp Logo" /><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge,chrome=1"><meta http-equiv="encoding" content="utf-8"><meta http-equiv="nss-type" content="Product Documentation"/><meta http-equiv="nss-subtype" content="User Guide"/><meta http-equiv="nss-product" content="OnCommand"/><meta name="description" content="Cloud Volumes ONTAPの高可用性（HA）構成は、無停止での運用と耐障害性を提供します。 AWSでは、データは同期的にミラーリングされます..."><meta name="keywords" content="高可用性、HA、メディエーター、概念、理解、概要、可用性ゾーン、AZ、テイクオーバー、ギブバック、RPO、RTO、フローティングIP、無停止、HAペア、ノード、ノード、同期、再同期、復旧ポイント目標、復旧時間目標、 nas、nfs、cifs、フローティングIPアドレス、ルートテーブル、iscsi、mpio、alua、フェイルオーバー、マウント、再マウント、障害、データアクセス、アクセス、IPアドレス、パフォーマンス"><!-- Icons --><link rel="icon" href="/occm/ja-jp/images/favicon.ico" type="image/x-icon"><!-- RSS Feed --><link rel="alternate" type="application/rss+xml" title="NetApp Cloud Docs" href="/occm/ja-jp/feed.xml"><!-- CSS Definitions: NetApp CSS should be defined after generic css --><!-- Elastic Search --><link rel="stylesheet" href="//cdn.jsdelivr.net/searchkit/0.10.0/theme.css"><!-- LUCI CSS Content --><link rel="stylesheet" href="/occm/ja-jp/common/css/esb.min.css"><link rel="stylesheet" href="/occm/ja-jp/common/css/netapp-library.min.css"><link rel="stylesheet" href="/occm/ja-jp/common/css/doc.css"><link rel="stylesheet" href="/occm/ja-jp/common/css/doc-components.css"><link rel="stylesheet" href="/occm/ja-jp/css/na-sidebar.css" type="text/css"><link rel="stylesheet" href="/occm/ja-jp/css/na-search.css" type="text/css"><link rel="stylesheet" href="/occm/ja-jp/css/clouddocs.css" type="text/css"><!-- Font awesome seems to affect our GitHub Icon and generic "arrow box" for external links. --><link rel="stylesheet" type="text/css" href="/occm/ja-jp/css/font-awesome.min.css"><!-- <link rel="stylesheet" href="/occm/ja-jp/css/customstyles.css"> --><!-- Controls the shadow effect for search dropdown menu --><link rel="stylesheet" href="/occm/ja-jp/css/boxshadowproperties.css"><!-- NetApp CSS controls the technical content --><link rel="stylesheet" href="/occm/ja-jp/css/netapp.css" type="text/css"><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script><!-- Used to import Promise for IE. Required for SearchKit --><script src="https://cdnjs.cloudflare.com/ajax/libs/bluebird/3.3.5/bluebird.min.js"></script><script src="/occm/ja-jp/js/na-search.js"></script><link rel="stylesheet" href="/occm/ja-jp/css/na-pagenav.css" type="text/css" id="pagenav-css"><script src="/occm/ja-jp/js/na-pagenav.js"></script><link rel="stylesheet" href="/occm/ja-jp/css/prism.css" type="text/css"><link rel="stylesheet" href="/occm/ja-jp/css/prism-netapp.css" type="text/css"><script src="/occm/ja-jp/js/clouddocs.js"></script><script src="/occm/ja-jp/js/s_code_impl.js"></script><script src="/occm/ja-jp/js/jquery.navgoco.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><script src="/occm/ja-jp/js/toc.js"></script><script src="/occm/ja-jp/js/customscripts.js"></script><script>
      $(document).ready(function() {
          // Initialize navgoco with default options
          $("#mysidebar").navgoco({
              caretHtml: "",
              accordion: true,
              openClass: "active", // open
              save: false, // leave false or nav highlighting doesn"t work right
              cookie: {
                  name: "navgoco",
                  expires: false,
                  path: "/"
              },
              slide: {
                  duration: 400,
                  easing: "swing"
              }
          });

          $("#collapseAll").click(function(e) {
              e.preventDefault();
              $("#mysidebar").navgoco("toggle", false);
          });

          $("#expandAll").click(function(e) {
              e.preventDefault();
              $("#mysidebar").navgoco("toggle", true);
          });

      });

  </script><script>
      $(document).ready(function() {
          $("#tg-sb-link").click(function() {
              $("#tg-sb-sidebar").toggle();
              $("#tg-sb-content").toggleClass("col-md-9");
              $("#tg-sb-content").toggleClass("col-md-12");
              $("#tg-sb-icon").toggleClass("fa-toggle-on");
              $("#tg-sb-icon").toggleClass("fa-toggle-off");
          });
      });
  </script><!-- Controls the i18n Browser Redirection --><script>
    var siteLocales = [];
    
      siteLocales.push("us-en");
    
      siteLocales.push("en");
    
      siteLocales.push("ja-jp");
    

    standardizeUrl(siteLocales, "clouddocs.netapp.com", "https://docs.netapp.com");
  </script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-81697994-3"></script><script>
  if (document.location.hostname === "docs.netapp.com") {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag("js", new Date());
    gtag("config", "UA-81697994-3");
  }
  </script></head><body class="n-doc__component-detail"> <a href="#n-main-content" class="visually-hidden">メインコンテンツにスキップ</a> <div class="n-off-canvas-menu"><div class="n-off-canvas-menu__menu"><div class="n-off-canvas-menu__menu-inner"><div class="n-off-canvas-menu__property-title"> NetApp Cloud Docs </div><ul class="n-off-canvas-menu__property-navigation-list"><li class="n-off-canvas-menu__property-navigation-list-item "> <a href="https://docs.netapp.com/ja-jp/" class="n-off-canvas-menu__property-navigation-link">ホーム</a> <div class="n-off-canvas-menu__child-menu"><ul class="n-menu__list"></ul></div></li></ul><ul class="n-off-canvas-menu__global-navigation-list"><li class="n-off-canvas-menu__global-navigation-list-header"> NetAppからの詳細</li><li class="n-off-canvas-menu__global-navigation-list-item"> <a href="#" class="n-off-canvas-menu__global-navigation-link">Netapp.com</a> </li></ul></div></div></div><div class="n-off-canvas-menu__content-wrap"><!-- Header --><header><!-- Top Hat --><div class="n-top-hat"><div class="n-container"><div class="n-top-hat__cross-property-nav"><ul class="n-top-hat__list"><li class="n-top-hat__list-item"> <a href="http://www.netapp.com" class="n-top-hat__link">NetApp.com</a> </li></ul></div></div></div><!-- Property Bar --><div class="n-property-bar n-property-bar--v3"><div class="n-property-bar__inner-wrap"><div class="n-property-bar__menu-toggle"> <a href="#" class="n-property-bar__menu-toggle-link"><span class="n-property-bar__menu-toggle-text">メニュー</span></a> <svg class="n-icon-bars n-property-bar__menu-toggle-icon" aria-labelledby="title"><use xlink:href="/occm/ja-jp/common/svg/sprite.svg#bars"></use></svg></div><div class="n-property-bar__property-mark n-property-bar__property-mark--has-property-name"><div class="n-property-bar__logo"><svg class="n-icon-netapp-mark n-property-bar__netapp-mark-icon" aria-labelledby="title"><use xlink:href="/occm/ja-jp/common/svg/sprite.svg#netapp-mark"></use></svg><svg class="n-property-bar__logo-svg" aria-labelledby="title"><use xlink:href="/occm/ja-jp/common/svg/sprite.svg#netapp-logo"></use></svg></div><h2 class="n-property-bar__property-name">クラウドドキュメント</h2></div><div id="search-demo-container" class="n-property-bar__search"><div id="react-search"></div></div><div id="ie-i18n-menu" class="n-property-bar__utils"><ul class="n-property-navigation-bar__utils-list"><li class="n-property-navigation-bar__utils-list-item ie-i18n-container"> <a href="#" class="n-property-navigation-bar__utils-link n-property-navigation-bar__nav-link n-property-navigation-bar__language-selector-toggle ie-i18n-link" data-menu-id="n-property-navigation-bar__menu--language-selector"><span class="ie-i18n-lang">日本語</span></a> <svg class="ie-i18n-icon-container" class="n-property-bar__logo-svg" aria-labelledby="title"><use xlink:href="/occm/ja-jp/common/svg/sprite.svg#globe" class="n-icon-globe n-globe__icon"></use></svg></li></ul></div></div><div class="n-property-bar__menus"><div id="n-property-navigation-bar__menu--language-selector" class="n-menu n-menu--v3"><div class="n-language-selector-menu"><div class="n-language-selector-menu__header"> <span class="n-language-selector-menu__title">あなたが使う言語を選んでください</span> </div><ul class="n-menu__list"><li class="n-menu__list-column"><ul class="n-menu__list"><li class="n-menu__list-item n-menu__list-item--level-1"> <a href="/occm/us-en/" class="n-menu__header-text"><span translate="no" class="notranslate">English</span></a> </li> <li class="n-menu__list-item n-menu__list-item--level-1"> <a href="/occm/ja-jp/" class="n-menu__header-text"><span translate="no" class="notranslate">日本語</span></a> </li> </ul></li></ul><div class="menu__footer"><p>現在の言語：日本語</p></div></div></div></div></div></header><!-- Content --><main role="main" id="n-main-content" class="n-main-content"><div class="n-container"><div class="n-row"><div class="n-doc n-doc__component-list"><!-- Sidebar Column --><div class="col-md-3" ><ul id="mysidebar" class="nav"><li> <a href="index.html">Cloud Manager 3.7ドキュメント</a> </li><!-- Check Container --><li class="subfolders"> <a href="#">リリースノート</a> <ul><!-- Check Container --><li class="subfolders"> <a href="#">クラウドマネージャー</a> <ul><li> <a href="reference_new_occm.html">新着情報</a> </li><li> <a href="reference_issues.html">既知の問題点</a> </li><li> <a href="reference_limitations.html">既知の制限</a> </li></ul></li><li> <a href="https://docs.netapp.com/us-en/cloud-volumes-ontap/" target="_blank">Cloud Volumes ONTAP</a> </li></ul></li><!-- Check Container --><li class="subfolders"> <a href="#">コンセプト</a> <ul><li> <a href="concept_overview.html">製品の概要</a> </li><li> <a href="concept_cloud_central.html">NetApp Cloud Central</a> </li><li> <a href="concept_cloud_central_accounts.html">Cloud Centralアカウント</a> </li><!-- Check Container --><li class="subfolders"> <a href="#">クラウドプロバイダーアカウント</a> <ul><li> <a href="concept_accounts_aws.html">AWSアカウント</a> </li><li> <a href="concept_accounts_azure.html">Azureアカウント</a> </li><li> <a href="concept_accounts_gcp.html">GCPアカウント</a> </li></ul></li><!-- Check Container --><li class="subfolders"> <a href="#">ストレージ</a> <ul><li> <a href="concept_storage.html">ディスクとアグリゲート</a> </li><li> <a href="concept_data_tiering.html">データ階層化</a> </li><li> <a href="concept_storage_management.html">ストレージ管理</a> </li><li> <a href="concept_worm.html">WORMストレージ</a> </li></ul></li><!-- Check Container --><li class="subfolders"> <a href="#">高可用性ペア</a> <ul><li class="active"> <a href="concept_ha.html">AWSのHAペア</a> </li><li> <a href="concept_ha_azure.html">AzureのHAペア</a> </li></ul></li><li> <a href="concept_evaluating.html">評価する</a> </li><li> <a href="concept_licensing.html">免許</a> </li><li> <a href="concept_security.html">セキュリティ</a> </li><li> <a href="concept_performance.html">性能</a> </li></ul></li><!-- Check Container --><li class="subfolders"> <a href="#">始めましょう</a> <ul><li> <a href="reference_deployment_overview.html">展開の概要</a> </li><li> <a href="task_getting_started_aws.html">AWSで始めましょう</a> </li><li> <a href="task_getting_started_azure.html">Azureで始めましょう</a> </li><li> <a href="task_getting_started_gcp.html">GCPで始めましょう</a> </li><!-- Check Container --><li class="subfolders"> <a href="#">Cloud Managerをセットアップする</a> <ul><li> <a href="task_setting_up_cloud_central_accounts.html">Cloud Centralアカウントをセットアップする</a> </li><li> <a href="task_adding_aws_accounts.html">AWSアカウントを追加する</a> </li><li> <a href="task_adding_azure_accounts.html">Azureアカウントを追加する</a> </li><li> <a href="task_adding_gcp_accounts.html">GCPアカウントを追加する</a> </li><li> <a href="task_adding_nss_accounts.html">ネットアップサポートサイトアカウントを追加する</a> </li><li> <a href="task_installing_https_cert.html">HTTPS証明書をインストールする</a> </li><li> <a href="task_setting_up_kms.html">AWS KMSをセットアップする</a> </li></ul></li><!-- Check Container --><li class="subfolders"> <a href="#">ネットワーク要件</a> <ul><li> <a href="reference_networking_cloud_manager.html">クラウドマネージャー</a> </li><li> <a href="reference_networking_aws.html">Cloud Volumes ONTAP for AWS</a> </li><li> <a href="task_setting_up_transit_gateway.html">AWSトランジットゲートウェイをセットアップする</a> </li><li> <a href="reference_networking_azure.html">Cloud Volumes ONTAP for Azure</a> </li><li> <a href="reference_networking_gcp.html">Cloud Volumes ONTAP for GCP</a> </li></ul></li><!-- Check Container --><li class="subfolders"> <a href="#">追加の展開オプション</a> <ul><li> <a href="reference_cloud_mgr_reqs.html">Cloud Managerのホスト要件</a> </li><li> <a href="task_installing_linux.html">LinuxにCloud Managerをインストールする</a> </li><li> <a href="task_launching_aws_mktp.html">AWS MarketplaceからCloud Managerをデプロイする</a> </li><li> <a href="task_launching_azure_mktp.html">Azure MarketplaceからCloud Managerをデプロイする</a> </li><li> <a href="task_installing_azure_gov.html">Azure GovリージョンにCloud Managerをデプロイする</a> </li><li> <a href="task_installing_azure_germany.html">Azure ManagerリージョンにCloud Managerをデプロイする</a> </li><li> <a href="https://docs.netapp.com/us-en/occm/media/c2s.pdf" target="_blank">AWS C2Sで開始する</a> </li></ul></li><li> <a href="concept_keep_up.html">Cloud Managerを実行し続ける</a> </li></ul></li><!-- Check Container --><li class="subfolders"> <a href="#">Cloud Volumes ONTAPを展開する</a> <ul><li> <a href="reference_before.html">あなたが始める前に</a> </li><li> <a href="task_logging_in.html">Cloud Managerにログインします</a> </li><li> <a href="task_planning_your_config.html">構成を計画する</a> </li><li> <a href="task_finding_system_id.html">システムIDを見つける</a> </li><li> <a href="task_enabling_flash_cache.html">AWSでFlash Cacheを有効にする</a> </li><li> <a href="task_deploying_otc_aws.html">AWSでCloud Volumes ONTAPを起動する</a> </li><li> <a href="task_deploying_otc_azure.html">AzureでCloud Volumes ONTAPを起動する</a> </li><li> <a href="task_deploying_gcp.html">GCPでCloud Volumes ONTAPを起動します</a> </li><li> <a href="task_registering.html">従量課金制システムを登録する</a> </li><li> <a href="task_setting_up_ontap_cloud.html">Cloud Volumes ONTAPをセットアップする</a> </li></ul></li><!-- Check Container --><li class="subfolders"> <a href="#">ストレージをプロビジョニングする</a> <ul><li> <a href="task_provisioning_storage.html">ボリューム、アグリゲート、およびLUNを作成する</a> </li><li> <a href="task_tiering.html">非アクティブなデータをオブジェクトストレージに階層化する</a> </li><li> <a href="task_connecting_kubernetes.html">Cloud Volumes ONTAPを永続ストレージとして使用する</a> </li><li> <a href="task_encrypting_volumes.html">NetApp Volume Encryptionでボリュームを暗号化する</a> </li><li> <a href="task_managing_storage.html">既存のストレージを管理する</a> </li></ul></li><!-- Check Container --><li class="subfolders"> <a href="#">データの複製と保護</a> <ul><li> <a href="task_discovering_ontap.html">ONTAPクラスタの検出と管理</a> </li><li> <a href="task_replicating_data.html">クラウドとの間でデータを複製する</a> </li><li> <a href="task_backup_to_s3.html">Amazon S3にバックアップする</a> </li><li> <a href="task_syncing_s3.html">データをAmazon S3に同期する</a> </li></ul></li><!-- Check Container --><li class="subfolders"> <a href="#">Cloud Volumes ONTAPの管理</a> <ul><li> <a href="task_connecting_to_otc.html">Cloud Volumes ONTAPに接続する</a> </li><li> <a href="task_updating_ontap_cloud.html">ソフトウェアを更新する</a> </li><li> <a href="task_modifying_ontap_cloud.html">システム構成を変更する</a> </li><li> <a href="task_managing_state.html">システムの停止と起動</a> </li><li> <a href="task_monitoring_costs.html">AWSのコストを監視する</a> </li><li> <a href="task_protecting_ransomware.html">ランサムウェア保護を改善する</a> </li><li> <a href="task_adding_ontap_cloud.html">既存のシステムを追加する</a> </li><li> <a href="task_deleting_working_env.html">システムを削除する</a> </li></ul></li><!-- Check Container --><li class="subfolders"> <a href="#">Cloud Managerの管理</a> <ul><li> <a href="task_updating_cloud_manager.html">Cloud Managerを更新</a> </li><li> <a href="task_managing_cloud_central_accounts.html">Cloud Centralアカウントを管理する</a> </li><li> <a href="task_removing.html">作業環境を削除する</a> </li><li> <a href="task_configuring_proxy.html">プロキシ設定を構成する</a> </li><li> <a href="task_renewing_cert.html">HTTPS証明書を更新する</a> </li><li> <a href="task_restoring.html">Cloud Managerを復元する</a> </li><li> <a href="task_uninstalling.html">Cloud Managerをアンインストールする</a> </li></ul></li><!-- Check Container --><li class="subfolders"> <a href="#">ファイルサービス用のボリュームのプロビジョニング</a> <ul><li> <a href="task_manage_anf.html">Azure NetAppファイル</a> </li><li> <a href="task_manage_cvs_aws.html">AWS向けクラウドボリュームサービス</a> </li></ul></li><!-- Check Container --><li class="subfolders"> <a href="#">APIと自動化</a> <ul><li> <a href="https://docs.netapp.com/us-en/occm/api.html" target="_blank">API開発者ガイド</a> </li><li> <a href="reference_infrastructure_as_code.html">自動化サンプル</a> </li></ul></li><!-- Check Container --><li class="subfolders"> <a href="#">参照</a> <ul><li> <a href="reference_integration_faq.html">Cloud Central統合に関するFAQ</a> </li><li> <a href="https://docs.netapp.com/us-en/cloud-volumes-ontap/index.html" target="_blank">Cloud Volumes ONTAPでサポートされている構成</a> </li><li> <a href="https://cloud.netapp.com/cloud-volumes-global-regions" target="_blank">サポートされている地域</a> </li><li> <a href="reference_security_groups.html">AWSのセキュリティグループルール</a> </li><li> <a href="reference_security_groups_azure.html">Azureのセキュリティグループルール</a> </li><li> <a href="reference_firewall_rules_gcp.html">GCPのファイアウォールルール</a> </li><li> <a href="reference_aws_marketplace.html">AWS Marketplaceページ</a> </li><li> <a href="reference_permissions.html">許可</a> </li><li> <a href="reference_default_configs.html">デフォルト設定</a> </li><li> <a href="reference_user_roles.html">ユーザー役割</a> </li><li> <a href="reference_additional_info.html">関連リンク</a> </li></ul></li><li> <a href="reference_earlier_versions.html">以前のバージョン</a> </li><li> <a href="reference_legal_notices.html">法的通知</a> </li></ul><!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you"re viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.--><script>$("li.active").parents("li").toggleClass("active");</script></div><div class="n-doc__component-detail-content n-doc__component-detail-content--show-code"><!-- Begin of page container --><article class="page-content"><div class="n-doc__component-detail-heading-wrap"><h1 class="n-doc__component-detail-heading"> AWSの高可用性ペア<span><a target="_blank" href="https://github.com/NetAppDocs/occm/blob/master/concept_ha.adoc" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> GitHubで編集</a> <a target="_blank" href="https://github.com/NetAppDocs/occm/issues/new?body=Page%3A%20[High-availability pairs in AWS](https://docs.netapp.com/ja-jp/occm/concept_ha.html)" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i>ドキュメントの変更をリクエストする</a></span> </h1></div><p class="page-details"><time datetime="2019-06-03 13:09:48 +0000"> 06/03/2019 </time> <span>寄稿者<a target="_blank" href="https://github.com/netapp-bcammett"><img  class="avatar avatar-small"
          alt="netapp-bcammett"
          width="20" height="20"
          src="https://avatars3.githubusercontent.com/u/18287750?v=4"
          style="border-radius: 50%;"/></a></span> </p><div id="preamble"><div class="sectionbody"><div class="paragraph lead"><p> Cloud Volumes ONTAPの高可用性（HA）構成は、無停止での運用と耐障害性を提供します。 AWSでは、2つのノード間でデータが同期的にミラーリングされます。 </p></div></div></div><div class="sect1"><h2 id="overview">概要</h2><div class="sectionbody"><div class="paragraph"><p> AWSでは、Cloud Volumes ONTAP HA構成に次のコンポーネントが含まれます。 </p></div><div class="ulist"><ul><li><p>データが相互に同期的にミラーリングされる2つのCloud Volumes ONTAPノード。 </p></li><li><p>ストレージテイクオーバーおよびギブバックプロセスを支援するためにノード間に通信チャネルを提供するメディエーターインスタンス。 </p></li></ul></div><div class="admonitionblock note"><table><tr><td class="icon"><i class="fa icon-note" title="注意"></i></td><td class="content">メディエータインスタンスは、t2.microインスタンスでLinuxオペレーティングシステムを実行し、約8 GBの1つのEBS磁気ディスクを使用します。 </td></tr></table></div><div class="sect2"><h3 id="storage-takeover-and-giveback">ストレージのテイクオーバーとギブバック</h3><div class="paragraph"><p>ノードがダウンした場合、他のノードはパートナーにデータを提供し、継続的なデータサービスを提供できます。データはパートナーに同期的にミラーリングされているため、クライアントはパートナーノードから同じデータにアクセスできます。 </p></div><div class="paragraph"><p>ノードの再起動後、パートナーはストレージを返す前にデータを再同期する必要があります。データの再同期にかかる時間は、ノードがダウンしている間に変更されたデータの量によって異なります。 </p></div></div><div class="sect2"><h3 id="rpo-and-rto"> RPOおよびRTO </h3><div class="paragraph"><p> HA構成は、次のようにデータの高可用性を維持します。 </p></div><div class="ulist"><ul><li><p>目標復旧ポイント（RPO）は0秒です。 <br>データはトランザクションの一貫性があり、データの損失はありません。 </p></li><li><p>目標復旧時間（RTO）は60秒です。 <br>障害が発生した場合、データは60秒以内に利用可能になります。 </p></li></ul></div></div><div class="sect2"><h3 id="ha-deployment-models"> HA展開モデル</h3><div class="paragraph"><p> HA構成を複数のアベイラビリティーゾーン（AZ）または単一のAZにデプロイすることにより、データの高可用性を確保できます。各構成の詳細を確認して、ニーズに最適なものを選択する必要があります。 </p></div></div></div></div><div class="sect1"><h2 id="cloud-volumes-ontap-ha-in-multiple-availability-zones">複数のアベイラビリティーゾーンのCloud Volumes ONTAP HA </h2><div class="sectionbody"><div class="paragraph"><p> HA構成を複数のアベイラビリティーゾーン（AZ）にデプロイすると、AZまたはCloud Volumes ONTAPノードを実行するインスタンスで障害が発生した場合にデータの高可用性が保証されます。 NAS IPアドレスがデータアクセスとストレージフェールオーバーに与える影響を理解する必要があります。 </p></div><div class="sect2"><h3 id="nfs-and-cifs-data-access"> NFSおよびCIFSデータアクセス</h3><div class="paragraph"><p> HA構成が複数のアベイラビリティーゾーンに分散している場合、 <em>フローティングIPアドレス</em>によりNASクライアントアクセスが可能になります。フローティングIPアドレスは、リージョン内のすべてのVPCのCIDRブロックの外側にある必要があり、障害が発生するとノード間で移行できます。 <a href="task_setting_up_transit_gateway.html">AWSトランジットゲートウェイ</a>を<a href="task_setting_up_transit_gateway.html">セットアップし</a>ない限り、VPCの外部にあるクライアントはネイティブにアクセスできません。 </p></div><div class="paragraph"><p>トランジットゲートウェイをセットアップできない場合、プライベートIPアドレスはVPCの外部にあるNASクライアントで利用できます。ただし、これらのIPアドレスは静的であり、ノード間でフェールオーバーできません。 </p></div><div class="paragraph"><p>複数のアベイラビリティーゾーンにHA構成を展開する前に、フローティングIPアドレスとルートテーブルの要件を確認する必要があります。構成を展開するときに、フローティングIPアドレスを指定する必要があります。プライベートIPアドレスは、Cloud Managerによって自動的に作成されます。 </p></div><div class="paragraph"><p>詳細については、 <a href="reference_networking_aws.html#aws-networking-requirements-for-cloud-volumes-ontap-ha-in-multiple-azs">複数のAZでのCloud Volumes ONTAP HAのAWSネットワーク要件を</a>参照してください。 </p></div></div><div class="sect2"><h3 id="iscsi-data-access"> iSCSIデータアクセス</h3><div class="paragraph"><p> iSCSIはフローティングIPアドレスを使用しないため、VPC間データ通信は問題になりません。 </p></div></div><div class="sect2"><h3 id="storage-takeover-and-giveback-for-iscsi"> iSCSIのストレージのテイクオーバーとギブバック</h3><div class="paragraph"><p> iSCSIの場合、Cloud Volumes ONTAPはマルチパスI / O（MPIO）と非対称論理ユニットアクセス（ALUA）を使用して、アクティブ最適化パスと非最適化パス間のパスフェールオーバーを管理します。 </p></div><div class="admonitionblock note"><table><tr><td class="icon"><i class="fa icon-note" title="注意"></i></td><td class="content"> ALUAをサポートする特定のホスト構成については、ホストオペレーティングシステムの<a href="http://mysupport.netapp.com/matrix" target="_blank" rel="noopener">NetApp Interoperability Matrix Tool</a>およびHost Utilitiesのインストールとセットアップガイドを参照してください。 </td></tr></table></div></div><div class="sect2"><h3 id="storage-takeover-and-giveback-for-nas"> NASのストレージのテイクオーバーとギブバック</h3><div class="paragraph"><p>フローティングIPを使用するNAS構成でテイクオーバーが発生すると、クライアントがデータにアクセスするために使用するノードのフローティングIPアドレスが他のノードに移動します。次の図は、フローティングIPを使用したNAS構成でのストレージの引き継ぎを示しています。ノード2がダウンすると、ノード2のフローティングIPアドレスはノード1に移動します。 </p></div><div class="paragraph"><p> <span class="image"><img src="./media/diagram_takeover_giveback.png" alt="Cloud Volumes ONTAP HAペアのストレージテイクオーバーを示す概念図：ノード1からのフローティングIPアドレスがノード2に移動します。"></span> </p></div><div class="paragraph"><p>外部VPCアクセスに使用されるNASデータIPは、障害が発生した場合、ノード間で移行できません。ノードがオフラインになった場合、他のノードのIPアドレスを使用して、VPCの外部のクライアントにボリュームを手動で再マウントする必要があります。 </p></div><div class="paragraph"><p>障害が発生したノードがオンラインに戻ったら、元のIPアドレスを使用してクライアントをボリュームに再マウントします。このステップは、2つのHAノード間で不要なデータを転送しないようにするために必要です。これにより、パフォーマンスと安定性に大きな影響を与える可能性があります。 </p></div><div class="paragraph"><p>ボリュームを選択して[ <strong>コマンドのマウント</strong> ]をクリックすると、Cloud Managerから正しいIPアドレスを簡単に識別できます。 </p></div></div></div></div><div class="sect1"><h2 id="cloud-volumes-ontap-ha-in-a-single-availability-zone">単一のアベイラビリティーゾーンのCloud Volumes ONTAP HA </h2><div class="sectionbody"><div class="paragraph"><p>単一のアベイラビリティーゾーン（AZ）にHA構成をデプロイすると、Cloud Volumes ONTAPノードを実行するインスタンスに障害が発生した場合にデータの高可用性を確保できます。すべてのデータは、VPCの外部からネイティブにアクセスできます。 </p></div><div class="admonitionblock note"><table><tr><td class="icon"><i class="fa icon-note" title="注意"></i></td><td class="content"> Cloud Managerは<a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/placement-groups.html" target="_blank" rel="noopener">AWSスプレッドプレースメントグループ</a>を作成し、そのプレースメントグループ内の2つのHAノードを起動します。配置グループは、インスタンスを個別の基盤となるハードウェアに分散させることにより、同時障害のリスクを減らします。この機能により、ディスク障害の観点からではなく、計算の観点から冗長性が向上します。 </td></tr></table></div><div class="sect2"><h3 id="data-access">データアクセス</h3><div class="paragraph"><p>この構成は単一のAZにあるため、フローティングIPアドレスを必要としません。 VPC内とVPCの外部からのデータアクセスに同じIPアドレスを使用できます。 </p></div><div class="paragraph"><p>次の図は、単一のAZでのHA構成を示しています。 VPC内およびVPCの外部からデータにアクセスできます。 </p></div><div class="paragraph"><p> <span class="image"><img src="./media/diagram_single_az.png" alt="VPCの外部からのデータアクセスを許可する単一のアベイラビリティーゾーンでのONTAP HA構成を示す概念図。"></span> </p></div></div><div class="sect2"><h3 id="storage-takeover-and-giveback-2">ストレージのテイクオーバーとギブバック</h3><div class="paragraph"><p> iSCSIの場合、Cloud Volumes ONTAPはマルチパスI / O（MPIO）と非対称論理ユニットアクセス（ALUA）を使用して、アクティブ最適化パスと非最適化パス間のパスフェールオーバーを管理します。 </p></div><div class="admonitionblock note"><table><tr><td class="icon"><i class="fa icon-note" title="注意"></i></td><td class="content"> ALUAをサポートする特定のホスト構成については、ホストオペレーティングシステムの<a href="http://mysupport.netapp.com/matrix" target="_blank" rel="noopener">NetApp Interoperability Matrix Tool</a>およびHost Utilitiesのインストールとセットアップガイドを参照してください。 </td></tr></table></div><div class="paragraph"><p> NAS構成の場合、障害が発生した場合、データIPアドレスはHAノード間で移行できます。これにより、クライアントがストレージにアクセスできるようになります。 </p></div></div></div></div><div class="sect1"><h2 id="how-storage-works-in-an-ha-pair"> HAペアでのストレージの仕組み</h2><div class="sectionbody"><div class="paragraph"><p> ONTAPクラスタとは異なり、Cloud Volumes ONTAP HAペアのストレージはノード間で共有されません。代わりに、データはノード間で同期的にミラーリングされるため、障害が発生した場合にデータを使用できます。 </p></div><div class="sect2"><h3 id="storage-allocation">ストレージ割り当て</h3><div class="paragraph"><p>新しいボリュームを作成し、追加のディスクが必要な場合、Cloud Managerは同じ数のディスクを両方のノードに割り当て、ミラーアグリゲートを作成してから、新しいボリュームを作成します。たとえば、ボリュームに2つのディスクが必要な場合、Cloud Managerはノードごとに2つのディスクを合計4つのディスクに割り当てます。 </p></div></div><div class="sect2"><h3 id="storage-configurations">ストレージ構成</h3><div class="paragraph"><p> HAペアは、両方のノードがクライアントにデータを提供するアクティブ/アクティブ構成として、またはパッシブノードがアクティブノードのストレージを引き継いだ場合にのみデータ要求に応答するアクティブ/パッシブ構成として使用できます。 。 </p></div><div class="admonitionblock note"><table><tr><td class="icon"><i class="fa icon-note" title="注意"></i></td><td class="content">ストレージシステムビューでCloud Managerを使用する場合にのみ、アクティブ/アクティブ構成をセットアップできます。 </td></tr></table></div></div><div class="sect2"><h3 id="performance-expectations-for-an-ha-configuration"> HA構成のパフォーマンスの期待</h3><div class="paragraph"><p> Cloud Volumes ONTAP HA構成は、ノード間でデータを同期的に複製し、ネットワーク帯域幅を消費します。その結果、単一ノードのCloud Volumes ONTAP構成と比較して、次のパフォーマンスが期待できます。 </p></div><div class="ulist"><ul><li><p> 1つのノードからのみデータを提供するHA構成の場合、読み取りパフォーマンスは単一ノード構成の読み取りパフォーマンスに匹敵しますが、書き込みパフォーマンスは低くなります。 </p></li><li><p>両方のノードからデータを提供するHA構成の場合、読み取りパフォーマンスは単一ノード構成の読み取りパフォーマンスよりも高く、書き込みパフォーマンスは同じかそれ以上です。 </p></li></ul></div><div class="paragraph"><p>クラウドボリュームONTAP性能の詳細については、参照<a href="concept_performance.html">パフォーマンスを</a> 。 </p></div></div><div class="sect2"><h3 id="client-access-to-storage">ストレージへのクライアントアクセス</h3><div class="paragraph"><p>クライアントは、ボリュームが存在するノードのデータIPアドレスを使用して、NFSおよびCIFSボリュームにアクセスする必要があります。 NASクライアントがパートナーノードのIPアドレスを使用してボリュームにアクセスする場合、トラフィックは両方のノード間を移動するため、パフォーマンスが低下します。 </p></div><div class="admonitionblock important"><table><tr><td class="icon"><i class="fa icon-important" title="重要"></i></td><td class="content"> HAペアのノード間でボリュームを移動する場合、他のノードのIPアドレスを使用してボリュームを再マウントする必要があります。そうしないと、パフォーマンスが低下する可能性があります。クライアントがCIFSのNFSv4参照またはフォルダーリダイレクトをサポートしている場合、Cloud Volumes ONTAPシステムでこれらの機能を有効にして、ボリュームの再マウントを回避できます。詳細については、ONTAPのドキュメントを参照してください。 </td></tr></table></div><div class="paragraph"><p> Cloud Managerから正しいIPアドレスを簡単に識別できます。 </p></div><div class="paragraph"><p> <span class="image"><img src="./media/screenshot_mount.gif" alt="スクリーンショット：ボリュームを選択すると使用できるマウントコマンドが表示されます。"></span> </p></div></div></div></div></article><!-- Page Container --></div><div class="page-nav-container"><nav class="page-nav-fixed"><div class="page-nav-title">このページ： </div><ul class="page-nav-inner" id="page-menu"></ul></nav></div></div></div></div></main><!-- Footer --><footer class="n-footer n-footer--v1" style="border-top: solid 10px #DFDFDF;"><div class="n-footer__bottom"><div class="n-container"><div class="n-footer__bottom-left"><div class="n-footer__copyright"> <a href="//www.netapp.com/us/legal/copyright.aspx" class="n-footer__copyright-link">©2019 NetApp、Inc.</a> </div><div class="n-footer__copyright"> <a href="//www.netapp.com/us/legal/index.aspx" class="n-footer__copyright-link">法的</a> </div><div class="n-footer__social-links n-footer__copyright"><ul class="n-footer__social-link-list"><li class="n-footer__social-link-list-item"> <a class="n-footer__social-link" data-ntap-social="follow-blog" href="http://blog.netapp.com" target="_blank" title="ブログ" alt="blog"><span class="n-footer__social-link-text">ブログ</span></a> <svg class="n-icon-blog n-footer__social-link-icon" aria-labelledby="title"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/occm/ja-jp/common/svg/sprite.svg#blog"></use></svg></li><li class="n-footer__social-link-list-item"> <a class="n-footer__social-link" data-ntap-social="follow-community" href="http://community.netapp.com/" target="_blank" title="コミュニティ" alt="community"><span class="n-footer__social-link-text">コミュニティ</span></a> <svg class="n-icon-twitter n-footer__social-link-icon" aria-labelledby="title"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/occm/ja-jp/common/svg/sprite.svg#comments"></use></svg></li><li class="n-footer__social-link-list-item"> <a class="n-footer__social-link" data-ntap-social="follow-twitter" href="https://twitter.com/netappdoc" target="_blank" title="ツイッター" alt="twitter"><span class="n-footer__social-link-text">ツイッター</span></a> <svg class="n-icon-twitter n-footer__social-link-icon" aria-labelledby="title"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/occm/ja-jp/common/svg/sprite.svg#twitter"></use></svg></li><li class="n-footer__social-link-list-item"> <a class="n-footer__social-link" data-ntap-social="follow-youtube" href="https://www.youtube.com/user/NetAppTechCommTV/" target="_blank" title="youtube" alt="youtube"><span class="n-footer__social-link-text">youtube</span></a> <svg class="n-icon-youtube n-footer__social-link-icon" aria-labelledby="title"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/occm/ja-jp/common/svg/sprite.svg#youtube"></use></svg></li></ul></div></div><div class="n-footer__bottom-right"><div class="n-footer__copyright"> <a href="https://docs.netapp.com/ja-jp/contribute/" class="n-footer__copyright-link">貢献する</a> </div><div class="n-footer__copyright"> <a target="_self" class="n-footer__copyright-link" href="javascript:netapp_mailto()">フィードバックをメールで送信</a> </div></div></div></div></footer></div><script src="/occm/ja-jp/common/js/components.js"></script><script src="/occm/ja-jp/common/js/doc-components.js"></script><!-- Elasticsearch JS --><script type="text/javascript" src="/occm/ja-jp/js/bundle.js"></script><!-- Syntax Highlighting --><script type="text/javascript" src="/occm/ja-jp/js/prism.js"></script><script type="text/javascript" src="/occm/ja-jp/js/prism-curl.js"></script></body></html>