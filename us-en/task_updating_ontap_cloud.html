<!DOCTYPE html>

<html lang="en">
  <head>
  <title>Updating Cloud Volumes ONTAP software | NetApp Cloud Docs</title>
  <meta charset="utf-8">
  <meta property="og:title" content="Updating Cloud Volumes ONTAP software | NetApp Cloud Docs" />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://docs.netapp.com/occm/us-en/task_updating_ontap_cloud.html" />
	<meta property="og:description" content="Cloud Manager includes several options that you can use to upgrade to the current Cloud Volumes ONTAP release or to downgrade Cloud Volumes ONTAP to an earli..." />
  <meta property="og:image" content="https://docs.netapp.com/occm/us-en/images/logo-tophat-social.png" />
  <meta property="og:image:alt" content="NetApp Logo" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="format-detection" content="telephone=no">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge,chrome=1">
  <meta http-equiv="encoding" content="utf-8">
  <meta http-equiv="nss-type" content="Product Documentation"/>
  <meta http-equiv="nss-subtype" content="User Guide"/>
  
  <meta http-equiv="nss-product" content="OnCommand"/>
  
  <meta name="description" content="Cloud Manager includes several options that you can use to upgrade to the current Cloud Volumes ONTAP release or to downgrade Cloud Volumes ONTAP to an earli...">
  <meta name="keywords" content=" update, updating, upgrading, upgrade, software, downgrade, downgrading, FTP, HTTP, mediator, local image">
  
  

  <!-- Icons -->
  <link rel="icon" href="/occm/us-en/images/favicon.ico" type="image/x-icon">

  <!-- RSS Feed -->
  
  <link rel="alternate" type="application/rss+xml" title="NetApp Cloud Docs" href="/occm/us-en/feed.xml">
  

  <!-- CSS Definitions: NetApp CSS should be defined after generic css -->

  <!-- Elastic Search -->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/searchkit/0.10.0/theme.css">

  <!-- LUCI CSS Content -->
  <link rel="stylesheet" href="/occm/us-en/common/css/esb.min.css">
  <link rel="stylesheet" href="/occm/us-en/common/css/netapp-library.min.css">
  <link rel="stylesheet" href="/occm/us-en/common/css/doc.css">
  <link rel="stylesheet" href="/occm/us-en/common/css/doc-components.css">

  <link rel="stylesheet" href='/occm/us-en/css/na-sidebar.css' type='text/css'>
  <link rel='stylesheet' href='/occm/us-en/css/na-search.css' type='text/css'>
  <link rel='stylesheet' href='/occm/us-en/css/clouddocs.css' type='text/css'>

  <!-- Font awesome seems to affect our GitHub Icon and generic "arrow box" for external links. -->
  <link rel="stylesheet" type="text/css" href="/occm/us-en/css/font-awesome.min.css">
  <!-- <link rel="stylesheet" href="/occm/us-en/css/customstyles.css"> -->
  <!-- Controls the shadow effect for search dropdown menu -->
  <link rel="stylesheet" href="/occm/us-en/css/boxshadowproperties.css">

  <!-- NetApp CSS controls the technical content -->
  <link rel='stylesheet' href='/occm/us-en/css/netapp.css' type='text/css'>

  

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
  <!-- Used to import Promise for IE. Required for SearchKit -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bluebird/3.3.5/bluebird.min.js"></script>
  
    <script src='/occm/us-en/js/na-search.js'></script>
  

  
  <link rel='stylesheet' href='/occm/us-en/css/na-pagenav.css' type='text/css' id="pagenav-css">
  <script src='/occm/us-en/js/na-pagenav.js'></script>
  

  <link rel='stylesheet' href='/occm/us-en/css/prism.css' type='text/css'>
  <link rel='stylesheet' href='/occm/us-en/css/prism-netapp.css' type='text/css'>

  <script src='/occm/us-en/js/clouddocs.js'></script>
  <script src='/occm/us-en/js/s_code_impl.js'></script>
  <script src='/occm/us-en/js/jquery.navgoco.min.js'></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  <script src='/occm/us-en/js/toc.js'></script>
  <script src='/occm/us-en/js/customscripts.js'></script>

  <script>
      $(document).ready(function() {
          
          var collapseOnInit = true;
          

          var navSettings = {
              "caretHtml": '',
              "accordion": collapseOnInit,
              "openClass": 'active', // open
              "save": false, // leave false or nav highlighting doesn't work right
              "cookie": {
                  "name": 'navgoco',
                  "expires": false,
                  "path": '/'
              },
              "slide": {
                  "duration": 400,
                  "easing": 'swing'
              }
          };

          // Initialize navgoco with default options
          $("#mysidebar").navgoco(navSettings);
          

          $("#collapseAll").click(function(e) {
              e.preventDefault();
              $("#mysidebar").navgoco('toggle', false);
          });

          $("#expandAll").click(function(e) {
              e.preventDefault();
              $("#mysidebar").navgoco('toggle', true);
          });

      });

  </script>
  <script>
      $(document).ready(function() {
          $("#tg-sb-link").click(function() {
              $("#tg-sb-sidebar").toggle();
              $("#tg-sb-content").toggleClass('col-md-9');
              $("#tg-sb-content").toggleClass('col-md-12');
              $("#tg-sb-icon").toggleClass('fa-toggle-on');
              $("#tg-sb-icon").toggleClass('fa-toggle-off');
          });
      });
  </script>

  <!-- Controls the i18n Browser Redirection -->
  <script>
    var siteLocales = [];
    
      siteLocales.push("us-en");
    
      siteLocales.push("en");
    
      siteLocales.push("ja-jp");
    

    standardizeUrl(siteLocales, "clouddocs.netapp.com", "https://docs.netapp.com");
  </script>

  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-81697994-3"></script>
  <script>
  if (document.location.hostname === "docs.netapp.com") {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-81697994-3');
  }
  </script>
</head>


  <body class="n-doc__component-detail">
    <a href="#n-main-content" class="visually-hidden">Skip to main content</a>
<div class="n-off-canvas-menu">
  <div class="n-off-canvas-menu__menu">
    <div class="n-off-canvas-menu__menu-inner">
      <div class="n-off-canvas-menu__property-title">NetApp Cloud Docs</div>
      <ul class="n-off-canvas-menu__property-navigation-list">
        <li class="n-off-canvas-menu__property-navigation-list-item ">
          <a href="https://docs.netapp.com/us-en/" class="n-off-canvas-menu__property-navigation-link">
            Home
          </a>
          <div class="n-off-canvas-menu__child-menu">
            <ul class="n-menu__list">

            </ul>
          </div>
        </li>
      </ul>

      <ul class="n-off-canvas-menu__global-navigation-list">
         <li class="n-off-canvas-menu__global-navigation-list-header">More From NetApp</li>
         <li class="n-off-canvas-menu__global-navigation-list-item"><a href="#" class="n-off-canvas-menu__global-navigation-link">Netapp.com</a></li>
      </ul>
    </div>
  </div>
</div>

    <div class="n-off-canvas-menu__content-wrap">
      <!-- Header -->
      <header>
  <!-- Top Hat -->
  <div class="n-top-hat">
    <div class="n-container">
      <div class="n-top-hat__cross-property-nav">
        <ul class="n-top-hat__list">
            <li class="n-top-hat__list-item">
              <a href="http://www.netapp.com" class="n-top-hat__link">NetApp.com</a>
            </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Property Bar -->
  <div class="n-property-bar n-property-bar--v3">
    <div class="n-property-bar__inner-wrap">
      <div class="n-property-bar__menu-toggle">
        <a href="#" class="n-property-bar__menu-toggle-link"><span class="n-property-bar__menu-toggle-text">Menu</span><svg class="n-icon-bars n-property-bar__menu-toggle-icon" aria-labelledby="title">
          <title>bars</title>
          <use xlink:href="/occm/us-en/common/svg/sprite.svg#bars"></use>
        </svg></a>
      </div>
      <div class="n-property-bar__property-mark n-property-bar__property-mark--has-property-name">
        <a class="n-property-bar__property-link" href="https://docs.netapp.com/us-en/">
          <div class="n-property-bar__logo">
            <svg class="n-icon-netapp-mark n-property-bar__netapp-mark-icon" aria-labelledby="title">
              <title>netapp-mark</title>
              <use xlink:href="/occm/us-en/common/svg/sprite.svg#netapp-mark"></use>
            </svg>
            <svg class="n-property-bar__logo-svg" aria-labelledby="title">
              <title>NetApp</title>
              <use xlink:href="/occm/us-en/common/svg/sprite.svg#netapp-logo"></use>
            </svg>
          </div>
          <h2 class="n-property-bar__property-name">Cloud Docs</h2>
        </a>
      </div>

      
      <div id="search-demo-container" class="n-property-bar__search">
        <div id="react-search"></div>
      </div>
      

      <div id="ie-i18n" class="n-property-bar__utils">
        <div id="ie-i18n-menu">
          <ul class="n-property-navigation-bar__utils-list">
            <li class="n-property-navigation-bar__utils-list-item ie-i18n-container">
              <a href="#" class="n-property-navigation-bar__utils-link n-property-navigation-bar__nav-link n-property-navigation-bar__language-selector-toggle ie-i18n-link" data-menu-id="n-property-navigation-bar__menu--language-selector">
                <span class="ie-i18n-lang">English</span>
                <svg class="ie-i18n-icon-container" class="n-property-bar__logo-svg" aria-labelledby="title">
                  <title>globe</title>
                  <use xlink:href="/occm/us-en/common/svg/sprite.svg#globe" class="n-icon-globe n-globe__icon"></use>
                </svg>
              </a>
            </li>
          </ul>
        </div>
        
      </div>
    </div>

    <div class="n-property-bar__menus">
      <div id="n-property-navigation-bar__menu--language-selector" class="n-menu n-menu--v3">
        <div class="n-language-selector-menu">
          <div class="n-language-selector-menu__header">
            <span class="n-language-selector-menu__title">Select Your Language</span>
          </div>
          <ul class="n-menu__list">
            <li class="n-menu__list-column">
              <ul class="n-menu__list">
                
                
                
                <li class="n-menu__list-item n-menu__list-item--level-1">
                  <a href="/occm/us-en/" class="n-menu__header-text"><span translate="no" class="notranslate">English</span></a>
                </li>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                <li class="n-menu__list-item n-menu__list-item--level-1">
                  <a href="/occm/ja-jp/" class="n-menu__header-text"><span translate="no" class="notranslate">日本語</span></a>
                </li>
                
                
                
                
                
                
                
                
                
                
                
              </ul>
            </li>
          </ul>
          <div class="menu__footer">
            <p>Current Language: English
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>


      <!-- Content -->
      <main role="main" id="n-main-content" class="n-main-content">
        
<div class="n-container">
  <div class="n-row">
    <div class="n-doc n-doc__component-list">
      <!-- Sidebar Column -->
      
      <div class="col-md-3" >
          

<ul id="mysidebar" class="nav">
  

  
    <li><a href="index.html">Cloud Manager 3.8 docs</a></li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Release notes</a>
      <ul>
        

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Cloud Manager</a>
      <ul>
        

  
    <li><a href="reference_new_occm.html">What's new</a></li>
  

  
    <li><a href="reference_issues.html">Known issues</a></li>
  

  
    <li><a href="reference_limitations.html">Known limitations</a></li>
  


      </ul>
    </li>
  

  
    <li><a href="https://docs.netapp.com/us-en/cloud-volumes-ontap/" target="_blank">Cloud Volumes ONTAP</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Concepts</a>
      <ul>
        

  
    <li><a href="concept_overview.html">Product overview</a></li>
  

  
    <li><a href="concept_cloud_central.html">NetApp Cloud Central</a></li>
  

  
    <li><a href="concept_cloud_central_accounts.html">Cloud Central accounts</a></li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Cloud provider accounts</a>
      <ul>
        

  
    <li><a href="concept_accounts_aws.html">AWS accounts</a></li>
  

  
    <li><a href="concept_accounts_azure.html">Azure accounts</a></li>
  

  
    <li><a href="concept_accounts_gcp.html">GCP accounts</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Storage</a>
      <ul>
        

  
    <li><a href="concept_storage.html">Disks and aggregates</a></li>
  

  
    <li><a href="concept_data_tiering.html">Data tiering</a></li>
  

  
    <li><a href="concept_storage_management.html">Storage management</a></li>
  

  
    <li><a href="concept_worm.html">WORM storage</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">High-availability pairs</a>
      <ul>
        

  
    <li><a href="concept_ha.html">HA pairs in AWS</a></li>
  

  
    <li><a href="concept_ha_azure.html">HA pairs in Azure</a></li>
  


      </ul>
    </li>
  

  
    <li><a href="concept_evaluating.html">Evaluating</a></li>
  

  
    <li><a href="concept_licensing.html">Licensing</a></li>
  

  
    <li><a href="concept_security.html">Security</a></li>
  

  
    <li><a href="concept_performance.html">Performance</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Get started</a>
      <ul>
        

  
    <li><a href="reference_deployment_overview.html">Deployment overview</a></li>
  

  
    <li><a href="task_getting_started_aws.html">Get started in AWS</a></li>
  

  
    <li><a href="task_getting_started_azure.html">Get started in Azure</a></li>
  

  
    <li><a href="task_getting_started_gcp.html">Get started in GCP</a></li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Set up Cloud Manager</a>
      <ul>
        

  
    <li><a href="task_setting_up_cloud_central_accounts.html">Set up the Cloud Central account</a></li>
  

  
    <li><a href="task_adding_aws_accounts.html">Add AWS accounts</a></li>
  

  
    <li><a href="task_adding_azure_accounts.html">Add Azure accounts</a></li>
  

  
    <li><a href="task_adding_gcp_accounts.html">Add GCP accounts (9.6 only)</a></li>
  

  
    <li><a href="task_adding_nss_accounts.html">Add NetApp Support Site accounts</a></li>
  

  
    <li><a href="task_installing_https_cert.html">Install an HTTPS certificate</a></li>
  

  
    <li><a href="task_setting_up_kms.html">Set up the AWS KMS</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Network requirements</a>
      <ul>
        

  
    <li><a href="reference_networking_cloud_manager.html">Cloud Manager</a></li>
  

  
    <li><a href="reference_networking_aws.html">Cloud Volumes ONTAP for AWS</a></li>
  

  
    <li><a href="task_setting_up_transit_gateway.html">Set up an AWS transit gateway</a></li>
  

  
    <li><a href="reference_networking_azure.html">Cloud Volumes ONTAP for Azure</a></li>
  

  
    <li><a href="reference_networking_gcp.html">Cloud Volumes ONTAP for GCP</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Additional deployment options</a>
      <ul>
        

  
    <li><a href="reference_cloud_mgr_reqs.html">Cloud Manager host requirements</a></li>
  

  
    <li><a href="task_installing_linux.html">Install Cloud Manager on Linux</a></li>
  

  
    <li><a href="task_launching_aws_mktp.html">Deploy Cloud Manager from the AWS Marketplace</a></li>
  

  
    <li><a href="task_launching_azure_mktp.html">Deploy Cloud Manager from the Azure Marketplace</a></li>
  

  
    <li><a href="task_installing_azure_gov.html">Deploy Cloud Manager in an Azure Gov region</a></li>
  

  
    <li><a href="task_installing_azure_germany.html">Deploy Cloud Manager in the Azure Germany region</a></li>
  

  
    <li><a href="https://docs.netapp.com/us-en/occm/media/c2s.pdf" target="_blank">Get started in AWS C2S</a></li>
  


      </ul>
    </li>
  

  
    <li><a href="task_logging_in.html">Log in to Cloud Manager</a></li>
  

  
    <li><a href="concept_keep_up.html">Keep Cloud Manager running</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Manage Cloud Volumes ONTAP</a>
      <ul>
        

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Deploy Cloud Volumes ONTAP</a>
      <ul>
        

  
    <li><a href="reference_before.html">Before you begin</a></li>
  

  
    <li><a href="task_planning_your_config.html">Plan your configuration</a></li>
  

  
    <li><a href="task_finding_system_id.html">Find your system ID</a></li>
  

  
    <li><a href="task_enabling_flash_cache.html">Enable Flash Cache</a></li>
  

  
    <li><a href="task_deploying_otc_aws.html">Launch a system in AWS</a></li>
  

  
    <li><a href="task_deploying_otc_azure.html">Launch a system in Azure</a></li>
  

  
    <li><a href="task_deploying_gcp.html">Launch a system in GCP</a></li>
  

  
    <li><a href="task_registering.html">Register pay-as-you-go systems</a></li>
  

  
    <li><a href="task_setting_up_ontap_cloud.html">Set up Cloud Volumes ONTAP</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Provision storage</a>
      <ul>
        

  
    <li><a href="task_provisioning_storage.html">Create volumes, aggregates, and LUNs</a></li>
  

  
    <li><a href="task_tiering.html">Tier inactive data to object storage</a></li>
  

  
    <li><a href="task_connecting_kubernetes.html">Use ONTAP as persistent storage</a></li>
  

  
    <li><a href="task_encrypting_volumes.html">Encrypt volumes with NetApp Volume Encryption</a></li>
  

  
    <li><a href="task_managing_storage.html">Manage existing storage</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Replicate and protect data</a>
      <ul>
        

  
    <li><a href="task_replicating_data.html">Replicate data between systems</a></li>
  

  
    <li><a href="task_backup_to_s3.html">Back up to Amazon S3</a></li>
  

  
    <li><a href="task_syncing_s3.html">Sync data to Amazon S3</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Administer Cloud Volumes ONTAP</a>
      <ul>
        

  
    <li><a href="task_connecting_to_otc.html">Connect to Cloud Volumes ONTAP</a></li>
  

  
    <li class="active"><a href="task_updating_ontap_cloud.html">Update software</a></li>
  

  
    <li><a href="task_modifying_ontap_cloud.html">Modify system configurations</a></li>
  

  
    <li><a href="task_managing_state.html">Stop and start systems</a></li>
  

  
    <li><a href="task_monitoring_costs.html">Monitor AWS costs</a></li>
  

  
    <li><a href="task_protecting_ransomware.html">Improve ransomware protection</a></li>
  

  
    <li><a href="task_adding_ontap_cloud.html">Add existing systems</a></li>
  

  
    <li><a href="task_deleting_working_env.html">Delete systems</a></li>
  


      </ul>
    </li>
  


      </ul>
    </li>
  

  
    <li><a href="task_discovering_ontap.html">Manage on-prem ONTAP clusters</a></li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Provision volumes for file services</a>
      <ul>
        

  
    <li><a href="task_manage_anf.html">Azure NetApp Files</a></li>
  

  
    <li><a href="task_manage_cvs_aws.html">Cloud Volumes Service for AWS</a></li>
  


      </ul>
    </li>
  

  
    <li><a href="task_viewing_amazon_s3.html">View Amazon S3 buckets</a></li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Gain insight into data privacy</a>
      <ul>
        

  
    <li><a href="concept_cloud_compliance.html">Learn about Cloud Compliance</a></li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Get started</a>
      <ul>
        

  
    <li><a href="task_getting_started_compliance.html">Cloud Volumes ONTAP and Azure NetApp Files</a></li>
  

  
    <li><a href="task_scanning_s3.html">Amazon S3</a></li>
  


      </ul>
    </li>
  

  
    <li><a href="task_controlling_private_data.html">Gain visibility and control of data</a></li>
  

  
    <li><a href="task_generating_compliance_reports.html">Generate reports</a></li>
  

  
    <li><a href="task_responding_to_dsar.html">Respond to a DSAR</a></li>
  

  
    <li><a href="task_managing_compliance.html">Disable Cloud Compliance</a></li>
  

  
    <li><a href="faq_cloud_compliance.html">FAQ</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Administer Cloud Manager</a>
      <ul>
        

  
    <li><a href="task_updating_cloud_manager.html">Update Cloud Manager</a></li>
  

  
    <li><a href="task_managing_cloud_central_accounts.html">Manage the Cloud Central account</a></li>
  

  
    <li><a href="task_removing.html">Remove working environments</a></li>
  

  
    <li><a href="task_configuring_proxy.html">Configure proxy settings</a></li>
  

  
    <li><a href="task_renewing_cert.html">Renew the HTTPS certificate</a></li>
  

  
    <li><a href="task_overriding_cifs_locks.html">Override CIFS locks in Azure</a></li>
  

  
    <li><a href="task_restoring.html">Restore Cloud Manager</a></li>
  

  
    <li><a href="task_uninstalling.html">Uninstall Cloud Manager</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">APIs and automation</a>
      <ul>
        

  
    <li><a href="https://docs.netapp.com/us-en/occm/api.html" target="_blank">API Developer Guide</a></li>
  

  
    <li><a href="reference_infrastructure_as_code.html">Automation samples</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Reference</a>
      <ul>
        

  
    <li><a href="https://docs.netapp.com/us-en/cloud-volumes-ontap/index.html" target="_blank">Supported configurations for Cloud Volumes ONTAP</a></li>
  

  
    <li><a href="https://cloud.netapp.com/cloud-volumes-global-regions" target="_blank">Supported regions</a></li>
  

  
    <li><a href="reference_security_groups.html">Security group rules for AWS</a></li>
  

  
    <li><a href="reference_security_groups_azure.html">Security group rules for Azure</a></li>
  

  
    <li><a href="reference_firewall_rules_gcp.html">Firewall rules for GCP</a></li>
  

  
    <li><a href="reference_aws_marketplace.html">AWS Marketplace pages</a></li>
  

  
    <li><a href="reference_permissions.html">Permissions</a></li>
  

  
    <li><a href="reference_default_configs.html">Default configurations</a></li>
  

  
    <li><a href="reference_user_roles.html">User roles</a></li>
  

  
    <li><a href="reference_additional_info.html">Related links</a></li>
  


      </ul>
    </li>
  

  
    <li><a href="reference_earlier_versions.html">Earlier versions</a></li>
  

  
    <li><a href="reference_legal_notices.html">Legal notices</a></li>
  


</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

      </div>
      

      <div class="n-doc__component-detail-content n-doc__component-detail-content--show-code">
        <!-- Begin of page container -->
        <article class="page-content">
          


  


<div class="n-doc__component-detail-heading-wrap">
  <h1 class="n-doc__component-detail-heading">Updating Cloud Volumes ONTAP software
    <span>
      
        <a target="_blank" href="https://github.com/NetAppDocs/occm/blob/master/task_updating_ontap_cloud.adoc" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Edit on GitHub</a>
        <a target="_blank" href="https://github.com/NetAppDocs/occm/issues/new?body=Page%3A%20[Updating Cloud Volumes ONTAP software](https://docs.netapp.com/us-en/occm/task_updating_ontap_cloud.html)" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Request doc changes</a>
      
    </span>
  </h1>
</div>

<p class="page-details">

<time datetime="2019-12-10 18:40:13 +0000">12/10/2019</time>


<span>Contributors
  
  <a target="_blank" href="https://github.com/netapp-bcammett">
    <img  class="avatar avatar-small"
          alt="netapp-bcammett"
          width="20" height="20"
          src="https://avatars3.githubusercontent.com/u/18287750?v=4"
          style="border-radius: 50%;"/>
  </a>
  
</span>

</p>

<div id="preamble">
<div class="sectionbody">
<div class="paragraph lead">
<p>Cloud Manager includes several options that you can use to upgrade to the current Cloud Volumes ONTAP release or to downgrade Cloud Volumes ONTAP to an earlier release. You should prepare Cloud Volumes ONTAP systems before you upgrade or downgrade the software.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="software-updates-must-be-completed-by-cloud-manager">Software updates must be completed by Cloud Manager</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Upgrades of Cloud Volumes ONTAP must be completed from Cloud Manager. You should not upgrade Cloud Volumes ONTAP by using System Manager or the CLI. Doing so can impact system stability.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ways-to-update-cloud-volumes-ontap">Ways to update Cloud Volumes ONTAP</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Cloud Manager displays a notification in Cloud Volumes ONTAP working environments when a new version of Cloud Volumes ONTAP is available:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./media/screenshot_cot_upgrade.gif" alt="Screen shot: Shows the New version available notification which displays in the Working Environments page after you select a working environment."></span></p>
</div>
<div class="paragraph">
<p>You can start the upgrade process from this notification, which automates the process by obtaining the software image from an S3 bucket, installing the image, and then restarting the system. For details, see <a href="#upgrading-cloud-volumes-ontap-from-cloud-manager-notifications">Upgrading Cloud Volumes ONTAP from Cloud Manager notifications</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For HA systems in AWS, Cloud Manager might upgrade the HA mediator as part of the upgrade process.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="advanced-options-for-software-updates">Advanced options for software updates</h3>
<div class="paragraph">
<p>Cloud Manager also provides the following advanced options for updating Cloud Volumes ONTAP software:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Software updates using an image on an external URL</p>
<div class="paragraph">
<p>This option is helpful if Cloud Manager cannot access the S3 bucket to upgrade the software, if you were provided with a patch, or if you want to downgrade the software to a specific version.</p>
</div>
<div class="paragraph">
<p>For details, see <a href="#upgrading-or-downgrading-cloud-volumes-ontap-by-using-an-http-or-ftp-server">Upgrading or downgrading Cloud Volumes ONTAP by using an HTTP or FTP server</a>.</p>
</div>
</li>
<li>
<p>Software updates using the alternate image on the system</p>
<div class="paragraph">
<p>You can use this option to downgrade to the previous version by making the alternate software image the default image. This option is not available for HA pairs.</p>
</div>
<div class="paragraph">
<p>For details, see <a href="#downgrading-cloud-volumes-ontap-by-using-a-local-image">Downgrading Cloud Volumes ONTAP by using a local image</a>.</p>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="preparing-to-update-cloud-volumes-ontap-software">Preparing to update Cloud Volumes ONTAP software</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before performing an upgrade or downgrade, you must verify that your systems are ready and make any required configuration changes.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#planning-for-downtime">Planning for downtime</a></p>
</li>
<li>
<p><a href="#reviewing-version-requirements">Reviewing version requirements</a></p>
</li>
<li>
<p><a href="#verifying-that-automatic-giveback-is-still-enabled">Verifying that automatic giveback is still enabled</a></p>
</li>
<li>
<p><a href="#suspending-snapmirror-transfers">Suspending SnapMirror transfers</a></p>
</li>
<li>
<p><a href="#verifying-that-aggregates-are-online">Verifying that aggregates are online</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="planning-for-downtime">Planning for downtime</h3>
<div class="paragraph">
<p>When you upgrade a single-node system, the upgrade process takes the system offline for up to 25 minutes, during which I/O is interrupted.</p>
</div>
<div class="paragraph">
<p>Upgrading an HA pair is nondisruptive and I/O is uninterrupted. During this nondisruptive upgrade process, each node is upgraded in tandem to continue serving I/O to clients.</p>
</div>
</div>
<div class="sect2">
<h3 id="reviewing-version-requirements">Reviewing version requirements</h3>
<div class="paragraph">
<p>The version of ONTAP that you can upgrade or downgrade to varies based on the version of ONTAP currently running on your system.</p>
</div>
<div class="paragraph">
<p>To understand version requirements, refer to <a href="http://docs.netapp.com/ontap-9/topic/com.netapp.doc.exp-dot-upgrade/GUID-AC0EB781-583F-4C90-A4C4-BC7B14CEFD39.html" target="_blank" rel="noopener">ONTAP 9 Documentation: Cluster update requirements</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="verifying-that-automatic-giveback-is-still-enabled">Verifying that automatic giveback is still enabled</h3>
<div class="paragraph">
<p>Automatic giveback must be enabled on a Cloud Volumes ONTAP HA pair (this is the default setting). If it isn&#8217;t, then the operation will fail.</p>
</div>
<div class="paragraph">
<p><a href="http://docs.netapp.com/ontap-9/topic/com.netapp.doc.dot-cm-hacg/GUID-3F50DE15-0D01-49A5-BEFD-D529713EC1FA.html" target="_blank" rel="noopener">ONTAP 9 Documentation: Commands for configuring automatic giveback</a></p>
</div>
</div>
<div class="sect2">
<h3 id="suspending-snapmirror-transfers">Suspending SnapMirror transfers</h3>
<div class="paragraph">
<p>If a Cloud Volumes ONTAP system has active SnapMirror relationships, it is best to suspend transfers before you update the Cloud Volumes ONTAP software. Suspending the transfers prevents SnapMirror failures. You must suspend the transfers from the destination system.</p>
</div>
<div class="paragraph">
<div class="title">About this task</div>
<p>These steps describe how to use System Manager for version 9.3 and later.</p>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p><a href="task_connecting_to_otc.html">Log in to System Manager</a> from the destination system.</p>
</li>
<li>
<p>Click <strong>Protection &gt; Relationships</strong>.</p>
</li>
<li>
<p>Select the relationship and click <strong>Operations &gt; Quiesce</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="verifying-that-aggregates-are-online">Verifying that aggregates are online</h3>
<div class="paragraph">
<p>Aggregates for Cloud Volumes ONTAP must be online before you update the software. Aggregates should be online in most configurations, but if they are not, then you should bring them online.</p>
</div>
<div class="paragraph">
<div class="title">About this task</div>
<p>These steps describe how to use System Manager for version 9.3 and later.</p>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>In the working environment, click the menu icon, and then click <strong>Advanced &gt; Advanced allocation</strong>.</p>
</li>
<li>
<p>Select an aggregate, click <strong>Info</strong>, and then verify that the state is online.</p>
<div class="paragraph">
<p><span class="image"><img src="./media/screenshot_aggr_state.gif" alt="Screen shot: Shows the State field when you view information for an aggregate."></span></p>
</div>
</li>
<li>
<p>If the aggregate is offline, use System Manager to bring the aggregate online:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><a href="task_connecting_to_otc.html">Log in to System Manager</a>.</p>
</li>
<li>
<p>Click <strong>Storage &gt; Aggregates &amp; Disks &gt; Aggregates</strong>.</p>
</li>
<li>
<p>Select the aggregate, and then click <strong>More Actions &gt; Status &gt; Online</strong>.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="upgrading-cloud-volumes-ontap-from-cloud-manager-notifications">Upgrading Cloud Volumes ONTAP from Cloud Manager notifications</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Cloud Manager notifies you when a new version of Cloud Volumes ONTAP is available. Click the notification to start the upgrade process.</p>
</div>
<div class="paragraph">
<div class="title">Before you begin</div>
<p>Cloud Manager operations such as volume or aggregate creation must not be in progress for the Cloud Volumes ONTAP system.</p>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>Click <strong>Working Environments</strong>.</p>
</li>
<li>
<p>Select a working environment.</p>
<div class="paragraph">
<p>A notification appears in the right pane if a new version is available:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./media/screenshot_cot_upgrade.gif" alt="Screen shot: Shows the New version available notification which displays in the Working Environments page after you select a working environment."></span></p>
</div>
</li>
<li>
<p>If a new version is available, click <strong>Upgrade</strong>.</p>
</li>
<li>
<p>In the Release Information page, click the link to read the Release Notes for the specified version, and then select the <strong>I have read&#8230;&#8203;</strong> check box.</p>
</li>
<li>
<p>In the End User License Agreement (EULA) page, read the EULA, and then select <strong>I read and approve the EULA</strong>.</p>
</li>
<li>
<p>In the Review and Approve page, read the important notes, select <strong>I understand&#8230;&#8203;</strong>, and then click <strong>Go</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Result</div>
<p>Cloud Manager starts the software upgrade. You can perform actions on the working environment once the software update is complete.</p>
</div>
<div class="paragraph">
<div class="title">After you finish</div>
<p>If you suspended SnapMirror transfers, use System Manager to resume the transfers.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="upgrading-or-downgrading-cloud-volumes-ontap-by-using-an-http-or-ftp-server">Upgrading or downgrading Cloud Volumes ONTAP by using an HTTP or FTP server</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can place the Cloud Volumes ONTAP software image on an HTTP or FTP server and then initiate the software update from Cloud Manager. You might use this option if Cloud Manager cannot access the S3 bucket to upgrade the software or if you want to downgrade the software.</p>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>Set up an HTTP server or FTP server that can host the Cloud Volumes ONTAP software image.</p>
</li>
<li>
<p>If you have a VPN connection to the virtual network, you can place the Cloud Volumes ONTAP software image on an HTTP server or FTP server in your own network. Otherwise, you must place the file on an HTTP server or FTP server in the cloud.</p>
</li>
<li>
<p>If you use your own security group for Cloud Volumes ONTAP, ensure that the outbound rules allow HTTP or FTP connections so Cloud Volumes ONTAP can access the software image.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The predefined Cloud Volumes ONTAP security group allows outbound HTTP and FTP connections by default.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Obtain the software image from <a href="https://mysupport.netapp.com/products/p/cloud_ontap.html" target="_blank" rel="noopener">the NetApp Support Site</a>.</p>
</li>
<li>
<p>Copy the software image to the directory on the HTTP or FTP server from which the file will be served.</p>
</li>
<li>
<p>From the working environment in Cloud Manager, click the menu icon, and then click <strong>Advanced &gt; Update Cloud Volumes ONTAP</strong>.</p>
</li>
<li>
<p>On the update software page, choose <strong>Select an image available from a URL</strong>, enter the URL, and then click <strong>Change Image</strong>.</p>
</li>
<li>
<p>Click <strong>Proceed</strong> to confirm.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Result</div>
<p>Cloud Manager starts the software update. You can perform actions on the working environment once the software update is complete.</p>
</div>
<div class="paragraph">
<div class="title">After you finish</div>
<p>If you suspended SnapMirror transfers, use System Manager to resume the transfers.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="downgrading-cloud-volumes-ontap-by-using-a-local-image">Downgrading Cloud Volumes ONTAP by using a local image</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Transitioning Cloud Volumes ONTAP to an earlier release in the same release family (for example, 9.5 to 9.4) is referred to as a downgrade. You can downgrade without assistance when downgrading new or test clusters, but you should contact technical support if you want to downgrade a production cluster.</p>
</div>
<div class="paragraph">
<p>Each Cloud Volumes ONTAP system can hold two software images: the current image that is running, and an alternate image that you can boot. Cloud Manager can change the alternate image to be the default image. You can use this option to downgrade to the previous version of Cloud Volumes ONTAP, if you are experiencing issues with the current image.</p>
</div>
<div class="paragraph">
<div class="title">About this task</div>
<p>This downgrade process is available for single Cloud Volumes ONTAP systems only. It is not available for HA pairs.</p>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>From the working environment, click the menu icon, and then click <strong>Advanced &gt; Update Cloud Volumes ONTAP</strong>.</p>
</li>
<li>
<p>On the update software page, select the alternate image, and then click <strong>Change Image</strong>.</p>
</li>
<li>
<p>Click <strong>Proceed</strong> to confirm.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Result</div>
<p>Cloud Manager starts the software update. You can perform actions on the working environment once the software update is complete.</p>
</div>
<div class="paragraph">
<div class="title">After you finish</div>
<p>If you suspended SnapMirror transfers, use System Manager to resume the transfers.</p>
</div>
</div>
</div>



        </article>
        <!-- Page Container -->
      </div>

      
      <div class="page-nav-container">
        <nav class="page-nav-fixed">
          <div class="page-nav-title">On this page:</div>
          <ul class="page-nav-inner" id="page-menu"></ul>
        </nav>
      </div>
      

    </div>
  </div>
</div>


      </main>

      <!-- Footer -->
      
      <footer class="n-footer n-footer--v1" style="border-top: solid 10px #DFDFDF;">
        <div class="n-footer__bottom">
          <div class="n-container">
            <div class="n-footer__bottom-left">
              <div class="n-footer__copyright">
                  <a href="//www.netapp.com/us/legal/copyright.aspx" class="n-footer__copyright-link">© 2020 NetApp, Inc.</a>
              </div>
              <div class="n-footer__copyright">
                <a href="//www.netapp.com/us/legal/index.aspx" class="n-footer__copyright-link">Legal</a>
              </div>
              <div class="n-footer__social-links n-footer__copyright">
                <ul class="n-footer__social-link-list">
                  <li class="n-footer__social-link-list-item">
                    <a class="n-footer__social-link" data-ntap-social="follow-blog" href="http://blog.netapp.com" target="_blank" title="blog" alt="blog">
                      <span class="n-footer__social-link-text">blog</span>
                      <svg class="n-icon-blog n-footer__social-link-icon" aria-labelledby="title">
                        <title>blog@</title>
                        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/occm/us-en/common/svg/sprite.svg#blog"></use>
                      </svg>
                    </a>
                  </li>
                  <li class="n-footer__social-link-list-item">
                    <a class="n-footer__social-link" data-ntap-social="follow-community" href="http://community.netapp.com/" target="_blank" title="community" alt="community">
                      <span class="n-footer__social-link-text">community</span>
                      <svg class="n-icon-twitter n-footer__social-link-icon" aria-labelledby="title">
                        <title>community@</title>
                        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/occm/us-en/common/svg/sprite.svg#comments"></use>
                      </svg>
                    </a>
                  </li>

                  <li class="n-footer__social-link-list-item">
                    <a class="n-footer__social-link" data-ntap-social="follow-twitter" href="https://twitter.com/netappdoc" target="_blank" title="twitter" alt="twitter">
                      <span class="n-footer__social-link-text">twitter</span>
                      <svg class="n-icon-twitter n-footer__social-link-icon" aria-labelledby="title">
                        <title>twitter@</title>
                        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/occm/us-en/common/svg/sprite.svg#twitter"></use>
                      </svg>
                    </a>
                  </li>
                  <li class="n-footer__social-link-list-item">
                    <a class="n-footer__social-link" data-ntap-social="follow-youtube" href="https://www.youtube.com/user/NetAppTechCommTV/" target="_blank" title="youtube" alt="youtube">
                      <span class="n-footer__social-link-text">youtube</span>
                      <svg class="n-icon-youtube n-footer__social-link-icon" aria-labelledby="title">
                        <title>youtube@</title>
                        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/occm/us-en/common/svg/sprite.svg#youtube"></use>
                      </svg>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
            <div class="n-footer__bottom-right">
              <div class="n-footer__copyright">
                <a href="https://docs.netapp.com/us-en/contribute/" class="n-footer__copyright-link">Contribute</a>
              </div>
              <div class="n-footer__copyright">
                <a target="_self" class="n-footer__copyright-link" href="javascript:netapp_mailto()">Email your feedback</a>
              </div>
              <div class="n-footer__copyright">
                <a href="https://docs.netapp.com/us-en/announcements/" class="n-footer__copyright-link">Announcements</a>
              </div>
            </div>
          </div>
        </div>
      </footer>

    </div>

    <script src="/occm/us-en/common/js/components.js"></script>
    <script src="/occm/us-en/common/js/doc-components.js"></script>

    <!-- Elasticsearch JS -->
    <script type="text/javascript" src='/occm/us-en/js/bundle.js'></script>

    <!-- Syntax Highlighting -->
    <script type="text/javascript" src='/occm/us-en/js/prism.js'></script>
    <script type="text/javascript" src='/occm/us-en/js/prism-curl.js'></script>

  </body>

  
</html>


